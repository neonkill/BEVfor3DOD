# @package _global_
defaults:
  - override /model: default_model
  - override /data: nuscenes
  - override /loss: default_loss
  - override /metrics: default_metrics



experiment:
  name: base_1e-3
  uuid: '0103_170521'                       # log directory, will be created
  

  seed: 2022
  checkpoint_interval: 1000
  log_image_interval: 500


loader:
  batch_size: 4         # per gpu
  num_workers: 8
  prefetch_factor: 8


optimizer:
  dual_lr: False
  lr: 1e-3

  

scheduler:
  name: onecycle
  div_factor: 10           # starts at lr / 10
  pct_start: 0.3           # reaches lr at 30% of total steps
  final_div_factor: 10     # ends at lr / 10 / 10
  total_steps: ${trainer.max_steps}
  cycle_momentum: False


# lightning trainer
trainer:
  max_steps: 61530  #! batch_size 2: 123060